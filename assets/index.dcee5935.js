import{d as T,o as u,c as p,n as g,p as $,a as S,b as a,e as P,f as x,g as R,T as M,r as b,s as W,h as v,w as q,i as U,j as H,t as m,u as _,k as z,F as I,l as K,m as Z,q as G,v as J}from"./vendor.6a9e4e2e.js";const Q=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const c of t)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function r(t){const c={};return t.integrity&&(c.integrity=t.integrity),t.referrerpolicy&&(c.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?c.credentials="include":t.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(t){if(t.ep)return;t.ep=!0;const c=r(t);fetch(t.href,c)}};Q();const X="https://opendata.cwb.gov.tw/api/v1/rest/datastore/F-D0047-063?Authorization=CWB-98356BDD-2791-42C7-87AE-D958E6F643BA",Y=()=>fetch(X).then(e=>e.json()).then(e=>e),ee=T("weather",{state:()=>({info:{},zone:"\u5927\u5B89\u5340",column:["Wx","MinT","MaxT"]}),actions:{updateInfo(e){this.info=e},async getWeather(){var s,r;const e={};try{const c=((r=(s=(await Y()).records)==null?void 0:s.locations[0])==null?void 0:r.location).find(l=>l.locationName===this.zone);c.weatherElement&&c.weatherElement.forEach(l=>{this.column.includes(l.elementName)&&(e[l.elementName]=l)}),this.updateInfo(e)}catch(i){console.log("error",i)}}}}),k=e=>e.toString().length===1?`0${e}`:e,C=e=>{switch(!0){case e.includes("\u96E8"):return"rain";case e.includes("\u9670"):return"cloudy";case(e.includes("\u6674")&&e.includes("\u96F2")):return"clear";case e.includes("\u6674"):return"sunny";default:return"sunny"}},L={0:"\u5468\u65E5",1:"\u5468\u4E00",2:"\u5468\u4E8C",3:"\u5468\u4E09",4:"\u5468\u56DB",5:"\u5468\u4E94",6:"\u5468\u516D"};var y=(e,s)=>{const r=e.__vccOpts||e;for(const[i,t]of s)r[i]=t;return r};const w=e=>($("data-v-ed070394"),e=e(),S(),e),te=w(()=>a("div",{class:"cloud bg-white"},null,-1)),se=w(()=>a("div",{class:"rain"},null,-1)),ne=w(()=>a("div",{class:"rain rain2"},null,-1)),ae=w(()=>a("div",{class:"rain rain3"},null,-1)),ce=[te,se,ne,ae],oe={props:{size:String},setup(e){const s=e;return(r,i)=>(u(),p("div",{class:g([s.size,"relative"])},ce,2))}};var re=y(oe,[["__scopeId","data-v-ed070394"]]);const le=P('<circle class="sun" cx="25" cy="15" r="10" fill="orange" data-v-1f322c95></circle><circle class="cloud" cx="12" cy="22" r="5" fill="white" data-v-1f322c95></circle><circle class="cloud" cx="16" cy="24" r="5" fill="white" data-v-1f322c95></circle><circle class="cloud" cx="24" cy="20" r="5" fill="white" data-v-1f322c95></circle><circle class="cloud" cx="20" cy="20" r="5" fill="white" data-v-1f322c95></circle>',5),ie=[le],ue={props:{size:String},setup(e){return(s,r)=>(u(),p("svg",{class:g(e.size)},ie,2))}};var de=y(ue,[["__scopeId","data-v-1f322c95"]]);const _e={props:{size:String,color:String},setup(e){const s=e;return(r,i)=>(u(),p("div",{class:g([s.size,"relative"])},[a("div",{class:g(["cloud bg-white",s.color])},null,2)],2))}};var pe=y(_e,[["__scopeId","data-v-4ad274ec"]]);const he=e=>($("data-v-963b61c2"),e=e(),S(),e),fe=he(()=>a("circle",{class:"sun",cx:"24",cy:"15",r:"10",fill:"orange"},null,-1)),ve=[fe],me={props:{size:String},setup(e){return(s,r)=>(u(),p("svg",{class:g(e.size)},ve,2))}};var ge=y(me,[["__scopeId","data-v-963b61c2"]]);const ye=e=>($("data-v-3cca5e43"),e=e(),S(),e),we={key:0,class:"fixed z-50 h-full w-full bg-slate-900 opacity-70"},xe=ye(()=>a("div",{class:"loading absolute top-0 right-0 bottom-0 left-0 m-auto"},null,-1)),$e=[xe],Se={props:{isOpen:Boolean},setup(e){return(s,r)=>(u(),x(M,{to:"#portal-target"},[e.isOpen?(u(),p("div",we,$e)):R("",!0)]))}};var De=y(Se,[["__scopeId","data-v-3cca5e43"]]);const be={class:"absolute top-0 right-0 left-0 bottom-0 m-auto h-[400px] w-[400px] rounded-xl bg-gradient-to-t from-[#1D678F] to-[#19283D] text-white"},ze=a("section",{class:"h-[100px]"},[a("div",{class:"moom t-[30px] l-[10px] relative h-[80px] w-[80px] rounded-full shadow-[15px_10px_#fa0]"})],-1),Ie={class:"flex pt-4"},ke={class:"w-1/2 pl-6 text-4xl"},Ce={class:"py-2 text-lg"},Le={class:"font-bold"},Ne={class:"w-1/2 text-center"},Oe={class:"flex justify-between px-4 pt-10"},Be={class:"text-center"},Ae={setup(e){const s=ee(),r={rain:re,cloudy:pe,clear:de,sunny:ge};let i=null;const t=b(0),c=b(!1),{info:l,zone:O,column:Ee}=W(s),f=v(()=>{const{Wx:n}=l.value;return n==null?void 0:n.time.filter((h,d)=>d%2===0)}),D=v(()=>f.value&&f.value.map((o,h)=>o==null?void 0:o.elementValue[0].value)||[]),B=v(()=>f.value&&f.value.map((o,h)=>{const d=o==null?void 0:o.startTime,j=new Date(d).getDay();return L[j]})),A=v(()=>{const{MinT:n,MaxT:o}=l.value,h=o==null?void 0:o.time[0].elementValue[0].value;return`${(n==null?void 0:n.time[0].elementValue[0].value)||0}\xB0C~${h||0}\xB0C`}),E=v(()=>{const{Wx:n}=l.value,o=n==null?void 0:n.time[0].elementValue[0].value;return o&&C(o)});q(f,n=>{n&&n.length>0&&(c.value=!1)});const V=()=>{const n=new Date().getDay(),o=new Date().getHours(),h=new Date().getMinutes();return`${L[n]} ${k(o)}:${k(h)}`},F=()=>{setInterval(()=>{t.value=new Date},1e3)};return U(()=>{c.value=!0,s.getWeather(),F()}),H(()=>{clearInterval(i)}),(n,o)=>(u(),p(I,null,[a("main",be,[ze,a("section",Ie,[a("div",ke,[a("p",null,m(_(A)),1),a("p",Ce,m(V(t.value)),1),a("p",Le,m(_(O)),1)]),a("div",Ne,[(u(),x(z(r[_(E)]),{size:"w-24 h-24 mx-auto scale-[2.5]"},null,8,["size"])),a("p",null,m(_(D)[0]),1)])]),a("ul",Oe,[(u(!0),p(I,null,K(_(f),(h,d)=>(u(),p("li",{key:d},[(u(),x(z(r[_(C)(_(D)[d])]),{size:"w-12 h-12"})),a("p",Be,m(_(B)[d]),1)]))),128))])]),Z(De,{isOpen:c.value},null,8,["isOpen"])],64))}};const N=G(Ae);N.use(J());N.mount("#app");
