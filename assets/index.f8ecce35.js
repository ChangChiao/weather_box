import{d as V,o as i,c as _,n as m,p as $,a as S,b as o,e as j,f as w,g as F,T,r as P,s as R,h as v,w as M,i as W,t as y,u as h,j as b,F as D,k as q,l as H,m as K,q as U}from"./vendor.ea0211a1.js";const Z=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&l(u)}).observe(document,{childList:!0,subtree:!0});function r(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerpolicy&&(a.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?a.credentials="include":t.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(t){if(t.ep)return;t.ep=!0;const a=r(t);fetch(t.href,a)}};Z();const G="https://opendata.cwb.gov.tw/api/v1/rest/datastore/F-D0047-063?Authorization=CWB-98356BDD-2791-42C7-87AE-D958E6F643BA",J=()=>fetch(G).then(e=>e.json()).then(e=>e),Q=V("weather",{state:()=>({info:{},zone:"\u5927\u5B89\u5340",column:["Wx","MinT","MaxT"]}),actions:{updateInfo(e){this.info=e},async getWeather(){var s,r;const e={};try{const a=((r=(s=(await J()).records)==null?void 0:s.locations[0])==null?void 0:r.location).find(u=>u.locationName===this.zone);a.weatherElement&&a.weatherElement.forEach(u=>{this.column.includes(u.elementName)&&(e[u.elementName]=u)}),this.updateInfo(e),console.log("obj",e)}catch(l){console.log("error",l)}}}}),z=e=>e.toString().length===1?`0${e}`:e,I=e=>{switch(!0){case e.includes("\u96E8"):return"rain";case e.includes("\u9670"):return"cloudy";case(e.includes("\u6674")&&e.includes("\u96F2")):return"clear";case e.includes("\u6674"):return"sunny";default:return"sunny"}},L={0:"\u5468\u65E5",1:"\u5468\u4E00",2:"\u5468\u4E8C",3:"\u5468\u4E09",4:"\u5468\u56DB",5:"\u5468\u4E94",6:"\u5468\u516D"};var g=(e,s)=>{const r=e.__vccOpts||e;for(const[l,t]of s)r[l]=t;return r};const x=e=>($("data-v-ed070394"),e=e(),S(),e),X=x(()=>o("div",{class:"cloud bg-white"},null,-1)),Y=x(()=>o("div",{class:"rain"},null,-1)),ee=x(()=>o("div",{class:"rain rain2"},null,-1)),te=x(()=>o("div",{class:"rain rain3"},null,-1)),se=[X,Y,ee,te],ne={props:{size:String},setup(e){const s=e;return(r,l)=>(i(),_("div",{class:m([s.size,"relative"])},se,2))}};var oe=g(ne,[["__scopeId","data-v-ed070394"]]);const ce=j('<circle class="sun" cx="25" cy="15" r="10" fill="orange" data-v-1f322c95></circle><circle class="cloud" cx="12" cy="22" r="5" fill="white" data-v-1f322c95></circle><circle class="cloud" cx="16" cy="24" r="5" fill="white" data-v-1f322c95></circle><circle class="cloud" cx="24" cy="20" r="5" fill="white" data-v-1f322c95></circle><circle class="cloud" cx="20" cy="20" r="5" fill="white" data-v-1f322c95></circle>',5),ae=[ce],re={props:{size:String},setup(e){return(s,r)=>(i(),_("svg",{class:m(e.size)},ae,2))}};var le=g(re,[["__scopeId","data-v-1f322c95"]]);const ie={props:{size:String,color:String},setup(e){const s=e;return(r,l)=>(i(),_("div",{class:m([s.size,"relative"])},[o("div",{class:m(["cloud bg-white",s.color])},null,2)],2))}};var ue=g(ie,[["__scopeId","data-v-4ad274ec"]]);const de=e=>($("data-v-963b61c2"),e=e(),S(),e),_e=de(()=>o("circle",{class:"sun",cx:"24",cy:"15",r:"10",fill:"orange"},null,-1)),pe=[_e],he={props:{size:String},setup(e){return(s,r)=>(i(),_("svg",{class:m(e.size)},pe,2))}};var fe=g(he,[["__scopeId","data-v-963b61c2"]]);const ve=e=>($("data-v-3cca5e43"),e=e(),S(),e),me={key:0,class:"fixed z-50 h-full w-full bg-slate-900 opacity-70"},ge=ve(()=>o("div",{class:"loading absolute top-0 right-0 bottom-0 left-0 m-auto"},null,-1)),ye=[ge],xe={props:{isOpen:Boolean},setup(e){return(s,r)=>(i(),w(T,{to:"#portal-target"},[e.isOpen?(i(),_("div",me,ye)):F("",!0)]))}};var we=g(xe,[["__scopeId","data-v-3cca5e43"]]);const $e={class:"absolute top-0 right-0 left-0 bottom-0 m-auto h-[400px] w-[400px] rounded-xl bg-gradient-to-t from-[#1D678F] to-[#19283D] text-white"},Se=o("section",{class:"h-[100px]"},[o("div",{class:"moom t-[30px] l-[10px] relative h-[80px] w-[80px] rounded-full shadow-[15px_10px_#fa0]"})],-1),be={class:"flex pt-4"},De={class:"w-1/2 pl-6 text-4xl"},ze={class:"py-2 text-lg"},Ie={class:"font-bold"},Le={class:"w-1/2 text-center"},ke=o("p",null,"\u6674\u6642\u591A\u96F2",-1),Ce={class:"flex justify-between px-4 pt-10"},Ne={class:"text-center"},Oe={setup(e){const s=Q(),r={rain:oe,cloudy:ue,clear:le,sunny:fe},l=P(!1),{info:t,zone:a,column:u}=R(s),f=v(()=>{const{Wx:n}=t.value;return n==null?void 0:n.time.filter((p,d)=>d%2===0)}),C=v(()=>f.value&&f.value.map((c,p)=>c==null?void 0:c.elementValue[0].value)||[]),N=v(()=>f.value&&f.value.map((c,p)=>{const d=c==null?void 0:c.startTime,E=new Date(d).getDay();return L[E]})),O=v(()=>{const{MinT:n,MaxT:c}=t.value,p=c==null?void 0:c.time[0].elementValue[0].value;return`${(n==null?void 0:n.time[0].elementValue[0].value)||0}\xB0C~${p||0}\xB0C`}),B=v(()=>{const{Wx:n}=t.value,c=n==null?void 0:n.time[0].elementValue[0].value;return c&&I(c)});M(f,n=>{console.log("newVal~~",n),n&&n.length>0&&(console.log("innnnnnn"),l.value=!1)});const A=()=>{const n=new Date().getDay(),c=new Date().getHours(),p=new Date().getMinutes();return`${L[n]} ${z(c)}:${z(p)}`};return W(()=>{l.value=!0,s.getWeather()}),(n,c)=>(i(),_(D,null,[o("main",$e,[Se,o("section",be,[o("div",De,[o("p",null,y(h(O)),1),o("p",ze,y(A()),1),o("p",Ie,y(h(a)),1)]),o("div",Le,[(i(),w(b(r[h(B)]),{size:"w-24 h-24 mx-auto scale-[2.5]"},null,8,["size"])),ke])]),o("ul",Ce,[(i(!0),_(D,null,q(h(f),(p,d)=>(i(),_("li",{key:d},[(i(),w(b(r[h(I)(h(C)[d])]),{size:"w-12 h-12"})),o("p",Ne,y(h(N)[d]),1)]))),128))])]),H(we,{isOpen:l.value},null,8,["isOpen"])],64))}};const k=K(Oe);k.use(U());k.mount("#app");
